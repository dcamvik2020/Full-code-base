<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Семинар 4: Остатки Си и многомодульные программы - Домашнее задание</title>
</head>
<body>
<div style="white-space: pre-wrap;">
А теперь, что вы должны подготовить для меня.
<ul>
Сначала должок с прошлого семинара - добить общественные контесты:

<li>virus - очень похожа на <a href="../C2/eratosfen.c" target="_blank">побитовое Решето Эратосфена</a> (такое же кол-во строк :-) ), тоже используется битовый массив и та же техника упаковки данных.
</li>
<li>Из 3-го общественного контеста "<a href="http://olymp3.vdi.mipt.ru/cgi-bin/new-client?contest_id=800202" target="_blank">Нео у Архитектора</a>" мы берём только
<ul>
<li>cache - задачу на кэш-эффект. Она скопирована в наш уютненький семестровый контест, чтобы можно было проверить под Валгриндом gcc-vg. Пишем внимательно и аккуратно, проверяем у себя локально, отправляем и идём спокойно пить чай, пока оно тестируется (каждая посылка может проверяться минут по 5).
</li>
<li>Остальные задачи оттуда - <font color="purple">cpu</font> и <font color="purple">neo</font> помечены как <font color="purple">бонусные</font>, необязательные. Но если вдруг сделаете... я проверю и зачту.
</li></ul></li>
<li><ul>
<li>Напоминаю, общественные контесты я обычно не мониторю, так что после того, как сдали туда задачу (ряд задач), напишите мне на почту номера посылок и алгоритмическую сложность, если она не тривиальная.
</li>
<li>Причём лучше не ленитесь и пишите номера посылок по мере решения задач (скажем, раз в день-два), а не одним разом выдавайте пачку задач, иначе мне тяжело проверять, да и лишние задержки ни к чему.
Те, кто мне на почту уже написал, молодцы, потерпите, я доберусь до этих задач, проверю и вам отвечу.
</li>
<li>Напомню, дедлайн на отправку в EJudge всех нулёвок, в т.ч. задач из общественных контестов - 1 апреля.
</li>
<li>1 апреля я должен подать списки отстающих студентов, поэтому до этого срока вам желательно по этим задачам ещё и отчитаться.
Отстающими мы будем считать тех, кто на тот момент не наберёт по <a href="../87.3_ki.xls" target="_blank">табличке</a> 3.0 балла.
</li></ul></li>
<li>Обещанная <b>мега-задача</b>. Напомню, это задача из вашего задавальника из 2-го задания, самая последняя и самая большая.
<ul>
<li>Если у вас нет задавальника, то в электронном виде её условие можете найти <a href="../Mega.doc" target="_blank">здесь</a>.
</li>
<li>Каждый из вас получил по 3 варианта (числа от 1 до 6), которые находятся в файле <a href="../tasks.txt" target="_blank">tasks.txt</a> и продублированы в нашем журнале <a href="../87.3_ki.xls" target="_blank">87.3_ki.xls</a>. Напротив каждой фамилии, первая цифра после двоеточия означает Ваш вариант из 1-го параграфа ("<tt>Свойство исходного текста</tt>"), вторая цифра - вариант из 2-го параграфа ("<tt>Правило 1 преобразования текста</tt>"), третья - из 3-го ("<tt>Правило 2 преобразования текста</tt>"). Это то, что я сгенерировал при вас на семинаре. (Прошу прощения, если кого-то неправильно написал транслитом.) Собственно, из этой серии у нас была задача на второй контрольной. Делаем мега-задачу сначала на Си, потом (после моего одобрения) переводим её на язык Ассемблера. Один из вариантов я разберу на доске ближе к концу семестра (строка "<tt>0) example</tt>"). Задача стоит 3 балла и добавится к нам в таблицу ближе к концу семестра.
</li>
<li>Моими стараниями мега-задача обрела свою цифровую форму, и мне пришлось применить все свои умения и всё своё мастерство, написать много кода дремучей магии и придумать ряд хитростей, чтобы создать контест для этой задачи (200 строк на реализацию собственно вариантов + 190 строк для source_footer'а + 300 строк чекера + 300 строк генератора вариантов, и это ещё не считая собственно условий). Если кому интересно, могу при встрече показать приватно, что там творится за кулисами.
Ссылка на соответствующий <a href="http://judge5.vdi.mipt.ru/cgi-bin/new-client?contest_id=501010" target="_blank">мега-контест</a> продублирована на <a href="/index.html" target="_blank">formenos.campus.mipt.ru</a>.
</li>
<li><!--Всех, кого я смог найти и опознать в <a href="http://judge5.vdi.mipt.ru/cgi-bin/new-client?contest_id=600200" target="_blank">контесте по Системам Счисления</a>, я зарегистрировал в этом <a href="http://judge5.vdi.mipt.ru/cgi-bin/new-client?contest_id=501010" target="_blank">мега-контесте</a> и проставил полученные вышеуказанные варианты из <a href="../tasks.txt" target="_blank">tasks.txt</a>.
Остальные--> При попытке зайти в контест вы получите какие-то рандомные варианты, которые затем будут мной изменены на те, что указаны в файлике <a href="../tasks.txt" target="_blank">tasks.txt</a> и, соответственно, в нашем журнале <a href="../87.3_ki.xls" target="_blank">87.3_ki.xls</a>.
Просьба, зарегистрируйтесь в <a href="http://judge5.vdi.mipt.ru/cgi-bin/new-register?contest_id=501010&action=208" target="_blank">контесте</a>, сообщите мне, чтобы я поправил вам вариант, а потом посмотрите хотя бы, соответствует ли ваш цифровой вариант тому, что был получен на <a href="../tasks.txt" target="_blank">жеребьёвке</a>?
Можете попытаться уже сдавать туда свои решения (сначала на gcc-vg, потом на Ассемблере nasm-x86).
</li>
<li>В качестве примера оформления можете посмотреть мой вариант <a href="../C2/mega625.c" target="_blank">mega625</a>. Обратите внимание, что я разбил решение задачи на 4 обязательные функции (<tt><b>check</b>()</tt>, <tt><b>rule1</b>()</tt>, <tt><b>rule2</b>()</tt> и <tt><b>test</b>()</tt>), от вас буду требовать того же самого. Также обратите внимание на то, что в <tt><b>rule2</b>()</tt> я обошёлся без O(n^2), а в некоторых вариантах можно обойтись и без дополнительной памяти, и даже сделать вообще за один цикл, за один проход по строке. Поэтому сначала сделайте вариант на Си, чтобы я одобрил алгоритм, а потом уже портируйте на ассемблер.
</li></ul></li>
<li>Переходим к многомодульным программам.
!!! <b><u>bruteforce</u></b> - <u>ключевая задача</u>, т.е. необходимое условие для получения 8, 9, 10. Кроме того, стоит 3 балла (добавляется в таблицу успеваемости). Попробуем с ней не запутаться, поскольку сдаём мы её в два этапа:
<ol>
<li>Тренируемся в нашем домашнем контесте на задаче <b>bruteforce</b>. Там нам надо написать всего лишь функцию "<tt>int bruteforce(char *buf, unsigned n)</tt>" в предположении, что всё остальное (декларация функции <tt><b>check</b>()</tt>, константы <tt>START_CHAR</tt> и <tt>STOP_CHAR</tt>, задающие алфавит, буфер и весь ввод-вывод) уже дано (можете посмотреть <a href="../C2/brute0/bruteforce_header.c" target="_blank">bruteforce_header</a> - это то, что цепляется к вашей посылке). Обратите особое внимание на следующие моменты:
<ul>
<li><tt>unsigned n</tt> - это текущий размер буфера, который включает и <tt>\0</tt>, поэтому максимальная длина пароля <tt>n-1</tt>.
</li>
<li>Максимальный размер буфера вам не известен. Ваш алгоритм должен быть универсальным и пригодным для теоретически любого <tt>n</tt>. Так что решения с 8 вложенными циклами for не принимаются!
</li></ul></li>
<li>После того, как убедились, что ваш алгоритм корректен, я вам высылаю бинарный модуль passwd.obj (или passwd.o в зависимости от компилятора). Создаём новый многомодульный проект (можно как пример/шаблон использовать <a href="../C2/brute0" target="_blank">brute0</a>), пишем <tt>main</tt>, адекватный ввод-вывод, чтобы не потерять найденный пароль, на этот и только этот раз задаём константы <tt>#define START_CHAR ' '</tt> и <tt>#define STOP_CHAR '~'</tt> (первую половину таблицы ASCII), заводим буфер, устанавливаем максимальный размер строки в 10 значащих символов и переносим в проект нашу написанную функцию "<tt>int bruteforce(char *buf, unsigned n)</tt>". Цепляем к проекту модуль passwd.o(bj), в котором реализована функция <tt><b>check</b>()</tt> и зашит пароль (если не получится это сделать через IDE, то Makefil'ы вам в помощь), запускаем и наслаждаемся. Если программу напишете неправильно и ваши процессоры сгорят, то я не виноват! :-)
</li></ol><ul>
<li>Чтобы проверить, подойдёт бинарник к вашему проекту или нет, можно подсунуть боевой passwd.obj в упрощённый проект <a href="../C2/brute0" target="_blank">brute0</a> вместо модуля passwd0.obj.
</li>
<li>В перспективе, если кто-то из вас вдруг захочет испытать всю мощь производительности видеокарт, то удобнее всего будет распараллелить именно эту задачу (или написать её на специальном Ассемблере для GPU). А затем сравнить, во сколько раз быстрее подберёт пароль (passwd.obj, конечно, придётся тоже переписывать), но для этого надо изучить OpenMP или MPI - параллельное программирование.
</li></ul></li></ul>
На этом халява в виде тёплых ламповых задач по Си заканчивается, впереди нас ждёт обилие специфической технической информации и гремучая смесь контестов, ассемблеров под DOS, Windows и Linux, да ещё и в нескольких диалектах и с несколькими линкерами и отладчиками. Чтобы в этом всём не запутаться, я вам призываю мобилизоваться и собрать все свои силы (снег-то уже начал таять...).

Надеюсь, я вас не запугал. :-) Если есть ко мне вопросы, пишите!
</div>
<div id="comments"></div>
<script src="comments.js"></script>
</body>
</html>
