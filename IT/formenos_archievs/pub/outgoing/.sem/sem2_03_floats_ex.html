<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Семинар 3: Представление вещественных чисел в ЭВМ - Примеры</title>
</head>
<body>
<div style="white-space: pre-wrap;">
<ol>
<li><font color="red"><b>Записать число -3.5 в коротком/длинном/расширенном представлениях (в 16-чном виде).</b></font>
Сначала переведём данное число в двоичную систему счисления:
3.5<sub>10</sub> = 11.1<sub>2</sub>
Затем в <b><i>нормализованное</i></b> представление (сдвинем точку к самой левой (старшей) 1):
11.1<sub>2</sub> = 1.11<sub>2</sub>E1<sub>2</sub>
Вспомним, что:
<ol>
<li>знак итогового числа всегда определяется старшим битом;
</li>
<li>порядок кодируется в <b><i>смещённом</i></b> виде, т.е.
    -1 записывается как 01…10,
     0 записывается как 01…11,
     1 записывается как 10…00,
     2 записывается как 10…01 и т.д.;
</li>
<li>мантисса записывается без старшего разряда, т.е. без “1.” (кроме расширенного представления).
</li></ol>
Собирая всё это в единое целое и подставляя конкретное количество бит под порядок и мантиссу для конкретного представления, записываем:
<ul>
<li><b><u>Короткое</u></b> (float, 4 байта): порядок <b><u>8</u></b> бит, мантисса <b><u>23</u></b> бита:
<tt>   1<font color="lime">|</font>100 0000 0<font color="lime">|</font>110 0000 0000 0000 0000 0000<sub>2</sub> = <b>C0600000</b><sub>16</sub>
знак   порядок    мантисса</tt>
</li>
<li><b><u>Длинное</u></b> (double, 8 байт): порядок <b><u>11</u></b> бит, мантисса <b><u>52</u></b> бита:
<tt>   1<font color="lime">|</font>100 0000 0000<font color="lime">|</font> 1100 0000 … 0000<sub>2</sub> = <b>C00C000000000000</b><sub>16</sub>
знак    порядок       мантисса</tt>
</li>
<li><b><u>Расширенное</u></b> (long double, 10 байт): порядок <b><u>15</u></b> бит, мантисса <b><u>64</u></b> бита:
<tt>   1<font color="lime">|</font>100 0000 0000 0000<font color="lime">|</font> <font color="red"><b>1</b></font>110 0000 … 0000<sub>2</sub> = <b>C000E000000000000000</b><sub>16</sub>
знак      порядок         мантисса</tt>
</li></ul>
<u>Ответы:</u>
<tt><b>C0600000
C00C000000000000
C000E000000000000000</b></tt>
</li>
<li><font color="red"><b>Дана последовательность байт:
00 00 A0 40
Какое вещественное число лежит в этих ячейках памяти?</b></font>
В архитектуре x86 используется порядок байт <b><i>little-endian</i></b>, т.е. обратный порядок, поэтому после чтения данных из памяти в регистр процессора получится:
40A00000<sub>16</sub>
Т.к. данные занимают 4 байта и сказано, что это вещественное число, то это тип float, т.е. <b><u>короткое</u></b> представление. Для него один бит (старший) отводится на знак числа, 8 бит – на порядок (который кодируется в <b><i>смещённом</i></b> виде, где 01…1 = 0; 10…0 = 1; 10…1 = 2 и т.д.), остальные 23 бита на мантиссу. Запишем данное число в двоичной системе счисления:
<tt>   0<font color="lime">|</font>100 0000 1<font color="lime">|</font>010 0000 0000 0000 0000 0000<sub>2</sub>
знак   порядок    мантисса</tt>
Получаем +1.01<sub>2</sub>E10<sub>2</sub> = 101<sub>2</sub> = <b>5</b><sub>10</sub>
<u>Ответ:</u> <b>5</b>
</li></ol>
<font color="red"><b><u>Disclaimer!</u></b></font> Все мы знаем, что размеры типов в Си (в т.ч. float, double, long double) не фиксируются Стандартом, поэтому по умолчанию подразумеваются значения для компиляторов GNU GCC x86_64.
</div>
<div id="comments"></div>
<script src="comments.js"></script>
</body>
</html>
